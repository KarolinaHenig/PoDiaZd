<mat-horizontal-stepper [linear]="isLinear" #stepper>
    <mat-step [stepControl]="firstFormGroup">
        <form [formGroup]="firstFormGroup">
           <ng-template matStepLabel>Car selection</ng-template> 



            <mat-form-field class="select">
                <mat-label>Brand</mat-label>
                <input matInput type="text" placeholder="Brand" formControlName="brand" [matAutocomplete]="auto"
                    class="example-input">
                <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayBrand">
                    <mat-option *ngFor="let brand of brands" [value]="brand">
                        {{brand.brandName}}
                    </mat-option>
                </mat-autocomplete>
            </mat-form-field>

            <mat-form-field class="select" *ngIf="this.firstFormGroup.controls['brand'].value">
                <mat-label>Model</mat-label>
                <input matInput type="text" placeholder="Model" formControlName="model" [matAutocomplete]="auto2"
                    class="example-input">
                <mat-autocomplete #auto2="matAutocomplete" [displayWith]="displayModel">
                    <mat-option *ngFor="let model of models" [value]="model">
                        {{model.modelName}}
                    </mat-option>
                </mat-autocomplete>
            </mat-form-field>

            <mat-form-field class="select" *ngIf="this.firstFormGroup.controls['model'].value">
                <mat-label>Generation</mat-label>
                <input matInput type="text" placeholder="Generation" formControlName="generation"
                    [matAutocomplete]="auto3" class="example-input">
                <mat-autocomplete #auto3="matAutocomplete" [displayWith]="displayGeneration">
                    <mat-option *ngFor="let generation of generations" [value]="generation">
                        {{generation.generationName}}
                    </mat-option>
                </mat-autocomplete>
            </mat-form-field>

            <mat-form-field class="select" *ngIf="this.firstFormGroup.controls['generation'].value">
                <mat-label>Body type</mat-label>
                <input matInput type="text" placeholder="Body type" formControlName="bodyType" [matAutocomplete]="auto4"
                    class="example-input">
                <mat-autocomplete #auto4="matAutocomplete" [displayWith]="displayBodyType">
                    <mat-option *ngFor="let bodyType of bodyTypes" [value]="bodyType">
                        {{bodyType.bodyTypeName}}
                    </mat-option>
                </mat-autocomplete>
            </mat-form-field>

            <mat-form-field class="select" *ngIf="this.firstFormGroup.controls['bodyType'].value">
                <mat-label>Modification</mat-label>
                <input matInput type="text" placeholder="Modification" formControlName="modification"
                    [matAutocomplete]="auto5" class="example-input">
                <mat-autocomplete #auto5="matAutocomplete" [displayWith]="displayModification">
                    <mat-option *ngFor="let modification of modifications" [value]="modification">
                        {{modification.modificationName}}
                    </mat-option>
                </mat-autocomplete>
            </mat-form-field>

            <div>
                <button mat-raised-button matStepperNext class="button">Next</button>
            </div>
        </form>
    </mat-step>
    <mat-step [stepControl]="secondFormGroup">
        <form [formGroup]="secondFormGroup">
            <ng-template matStepLabel>Malfunction selection</ng-template>

            <mat-form-field class="select">
                <mat-label>Category</mat-label>
                <input matInput type="text" placeholder="Category" formControlName="category" [matAutocomplete]="auto8"
                    class="example-input">
                <mat-autocomplete #auto8="matAutocomplete" [displayWith]="displayCategory">
                    <mat-option *ngFor="let category of categories" [value]="category">
                        {{category.categoryName}}
                    </mat-option>
                </mat-autocomplete>
            </mat-form-field>

            <mat-form-field class="select" *ngIf="this.secondFormGroup.controls['category'].value">
                <mat-label>Description on malfunction</mat-label>
                <input matInput type="text" placeholder="Description on malfunction" formControlName="malfunctionDescription" [matAutocomplete]="auto9"
                    class="example-input">
                <mat-autocomplete #auto9="matAutocomplete" [displayWith]="displayMalfunctionDescription">
                </mat-autocomplete> 
            </mat-form-field>
            <div>
                <button mat-stroked-button matStepperPrevious class="button">Back</button>
                <button mat-raised-button matStepperNext class="button">Next</button>
            </div>
        </form>
    </mat-step>
    <mat-step [stepControl]="thirdFormGroup">
        <form [formGroup]=" thirdFormGroup">
            <ng-template matStepLabel>Locality selection</ng-template>

            <mat-form-field class="select">
                <mat-label>Voivodeship</mat-label>
                <input matInput type="text" placeholder="Voivodeship" formControlName="voivodeship" [matAutocomplete]="auto10"
                class="example-input">
                <mat-autocomplete #auto10="matAutocomplete" [displayWith]="displayVoivodeship">
                    <mat-option *ngFor="let voivodeship of voivodeships" [value]="voivodeship">
                        {{voivodeship.voivodeshipName}}
                    </mat-option>
            </mat-autocomplete>
            </mat-form-field>
            
            <mat-form-field class="select" *ngIf="this.thirdFormGroup.controls['voivodeship'].value">
                <mat-label>County</mat-label>
                <input matInput type="text" placeholder="County" formControlName="county" [matAutocomplete]="auto11"
                class="example-input">
                <mat-autocomplete #auto11="matAutocomplete" [displayWith]="displayCounty">
                    <mat-option *ngFor="let county of counties" [value]="county">
                        {{county.countyName}}
                    </mat-option>
            </mat-autocomplete>
            </mat-form-field>

            <mat-form-field class="select" *ngIf="this.thirdFormGroup.controls['county'].value">
                <mat-label>City</mat-label>
                <input matInput type="text" placeholder="City" formControlName="city" [matAutocomplete]="auto11"
                class="example-input">
                <mat-autocomplete #auto11="matAutocomplete" [displayWith]="displayCity">
                    <mat-option *ngFor="let city of cities" [value]="city">
                        {{city.cityName}}
                    </mat-option>
            </mat-autocomplete>
            </mat-form-field>

            <mat-list role="list" *ngIf="this.thirdFormGroup.controls['city'].value" class="list">
                <mat-list-item role="listitem">Item 1
                    <button mat-icon-button (click)="showInfo">
                        <mat-icon>info</mat-icon>
                    </button>
                </mat-list-item>
                <mat-list-item role="listitem">Item 2
                    <button mat-icon-button (click)="showInfo">
                        <mat-icon>info</mat-icon>
                    </button>
                </mat-list-item>
                <mat-list-item role="listitem">Item 3
                    <button mat-icon-button (click)="showInfo">
                        <mat-icon>info</mat-icon>
                    </button>
                </mat-list-item>
            </mat-list>

            <div>
                <button mat-stroked-button matStepperPrevious class="button">Back</button>
            </div>
        </form>
    </mat-step>
</mat-horizontal-stepper>